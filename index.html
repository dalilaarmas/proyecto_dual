<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Consumo Energético - Cabildo de Tenerife</title>
  <!-- Estilos de Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="resources/css/estilos.css" />
</head>

<body>
  <!-- Botón para mostrar/ocultar filtros en móviles -->
  <button class="btn d-md-none" id="toggle-filtros">Filtros</button>

  <!-- Cabecera de la página -->
  <header class="bg-primary text-white p-3">
    <h1 class="h3 mb-0">Consumo Energético - Cabildo de Tenerife</h1>
  </header>

  <div class="container-fluid">
    <div class="row">
      <!-- Zona principal donde se cargará la tabla con los datos -->
      <main class="col-md-9 col-12">
        <!-- Mostrar errores -->
        <div id="mensajeError" class="alert alert-danger d-none" role="alert"
          style="position: fixed; top: 10px; right: 10px; max-width: 400px; z-index: 1050;">
          <div id="contenidoError"></div>
          <button id="btnToggleDetalles" class="btn btn-sm btn-link" style="padding: 0; margin-top: 5px;">Ver
            detalles</button>
          <pre id="detallesError"
            style="display: none; white-space: pre-wrap; max-height: 200px; overflow-y: auto; background: #f8d7da; padding: 10px; margin-top: 5px; border-radius: 4px;"></pre>
          <button id="cerrarError" class="btn btn-sm btn-secondary" style="margin-top: 5px;">Cerrar</button>
        </div>
        <canvas id="miGrafico" width="400" height="200"></canvas>

        <!-- recuento de registros -->
        <div id="resumen-registros" class="alert alert-info mt-3">
          Cargando datos...
        </div>
        <!-- Botón plegable para resumen de consumo -->
        <div id="resumen-consumo"></div>
        <div id="letrasInsuficientes" class="alert alert-warning d-none" role="alert"></div>
        <div id="resultado-mayor-consumo" class="alert alert-secondary d-none mt-3"></div>
        <div id="mensajeNoResultados" class="alert alert-warning d-none" role="alert"></div>
        <!-- Aquí se insertará la tabla vía JavaScript -->
        <div id="datos-container" class="table-responsive"></div>
         <div id="error-paginacion" class="alert alert-danger d-none mt-2" role="alert"></div>
        <nav style="overflow-x: auto;">
          <div class="d-flex align-items-center flex-wrap gap-2">
            <ul class="pagination mb-0" id="paginacion" style="flex-wrap: nowrap; white-space: nowrap;"></ul>
            <div class="input-group input-group-sm" style="max-width: 150px;">
              <input type="number" min="1" class="form-control" id="ir-a-pagina" placeholder="Ir a pág.">
              <button class="btn btn-outline-primary" id="btn-ir-a-pagina">Ir</button>
            </div>
          </div>
        </nav>
      </main>
    </div>
  </div>
  <!-- jQuery (necesario para Bootstrap JS) -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- Bootstrap JavaScript (componentes interactivos) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script personalizado para cargar tabla y filtros -->
  <script src="resources/js/script.js"></script>

  <!-- Script Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>

</html>